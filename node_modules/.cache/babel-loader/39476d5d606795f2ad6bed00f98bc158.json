{"ast":null,"code":"var _jsxFileName = \"/l/disk0/raphaelg/Downloads/HACKACLOUD/git/grupo01/fronend/src/pages/login.js\";\nimport Menu from './menu.js';\nimport Form from 'react-bootstrap/Form';\nimport Image from 'react-bootstrap/Image';\nimport Button from 'react-bootstrap/Button';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport '../css/index.css';\nimport '../css/login.css';\nimport React, { Component } from 'react';\nimport { Redirect } from 'react-router-dom';\nimport * as constants from './constants';\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst username = constants.USUARIO_REST_OIC;\nconst password = constants.PASSWORD_REST_OIC;\nconst basicAuth = btoa(`${username}:${password}`);\nconst headers = {\n  'Content-Type': 'application/json',\n  'Access-Control-Allow-Origin': '*',\n  'Authorization': `Basic ${basicAuth}`\n};\nexport default class Login extends Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      login: '',\n      password: '',\n      redirect: false,\n      tipo: ''\n    };\n    localStorage.setItem('isLoggedIn', 'false');\n    localStorage.setItem('logginType', '');\n    localStorage.setItem('idLoggedUser', '');\n  }\n\n  changeField(field, event) {\n    let _filed = event.target.value;\n    this.setState(prevState => {\n      let nextState = Object.assign({}, prevState);\n      nextState[field] = _filed;\n      return nextState;\n    });\n  }\n\n  registraLogin(idUser, tipo) {\n    localStorage.setItem('isLoggedIn', 'true');\n    localStorage.setItem('logginType', tipo);\n    localStorage.setItem('idLoggedUser', idUser);\n  }\n\n  submitForm(e) {\n    e.preventDefault();\n    alert(JSON.stringify(this.state)); //alert(this.state.tipo);\n\n    if (this.state.tipo == 'RESTAURANTE') {\n      const novoObjetoJSON = {\n        \"login\": this.state.login,\n        \"password\": this.state.password\n      };\n      axios.post(constants.URI_LOGIN_RESTAURANTE, novoObjetoJSON, {\n        headers\n      }).then(response => {\n        console.log('Resposta da solicitação POST:', response.data);\n        alert('Login realizado com sucesso!');\n        this.registraLogin('2', this.state.tipo);\n        alert(JSON.stringify(response));\n        window.location.href = \"/home\";\n      }).catch(error => {\n        console.error('Erro na solicitação POST:', error);\n        alert('Falha ao realizar o login!');\n      });\n    } else if (this.state.tipo == 'CLIENTE') {\n      const novoObjetoJSON = {\n        \"login\": this.state.login,\n        \"password\": this.state.password\n      };\n      axios.post(constants.URI_LOGIN_USUARIO, novoObjetoJSON, {\n        headers\n      }).then(response => {\n        console.log('Resposta da solicitação POST:', response.data);\n        alert('Login realizado com sucesso!');\n        this.registraLogin('2', this.state.tipo);\n        window.location.href = \"/home\";\n      }).catch(error => {\n        console.error('Erro na solicitação POST:', error);\n        alert('Falha ao realizar o login!');\n      });\n    } else if (this.state.tipo == 'ADMINISTRADOR') {\n      if (this.state.password == '12345') {\n        this.registraLogin('2', this.state.tipo);\n        this.setState(prevState => {\n          let nextState = Object.assign({}, prevState);\n          nextState.redirect = true;\n          return nextState;\n        });\n      } else {\n        alert('Falha ao realizar o login!');\n      }\n    }\n  }\n\n  render() {\n    if (this.state.redirect) {\n      return /*#__PURE__*/_jsxDEV(Redirect, {\n        to: \"/home\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 16\n      }, this);\n    } else {\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"center\",\n        children: /*#__PURE__*/_jsxDEV(Container, {\n          children: /*#__PURE__*/_jsxDEV(Row, {\n            children: /*#__PURE__*/_jsxDEV(Col, {\n              md: {\n                span: 4,\n                offset: 4\n              },\n              children: [/*#__PURE__*/_jsxDEV(Image, {\n                className: \"image-details\",\n                src: \"https://objectstorage.sa-saopaulo-1.oraclecloud.com/p/31IdzhZcCLEo3ydugFKdlSllHz0icpJA2WYaSS4K1RrblJpQv63k9LC2W_AJPh7J/n/gro465m12zbx/b/bucket-20231005-0813/o/testelogo.png\",\n                rounded: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 144,\n                columnNumber: 25\n              }, this), /*#__PURE__*/_jsxDEV(Form, {\n                onSubmit: this.submitForm.bind(this),\n                children: [/*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicEmail\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    className: \"details-form\",\n                    children: \"Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 147,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"text\",\n                    className: \"font-forms\",\n                    placeholder: \"Informe o login\",\n                    value: this.state.login,\n                    onChange: this.changeField.bind(this, 'login')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 148,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Text, {\n                    className: \"text-muted\",\n                    children: \"Informe o login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 149,\n                    columnNumber: 41\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicPassword\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    className: \"details-form\",\n                    children: \"Password\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 154,\n                    columnNumber: 37\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    type: \"password\",\n                    className: \"font-forms\",\n                    placeholder: \"Password\",\n                    value: this.state.password,\n                    onChange: this.changeField.bind(this, 'password')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 155,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 153,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Form.Group, {\n                  controlId: \"formBasicType\",\n                  children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                    className: \"details-form\",\n                    children: \"Tipo de Login\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 161,\n                    columnNumber: 33\n                  }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                    as: \"select\",\n                    className: \"font-forms select-forms\",\n                    placeholder: \"Informe o endere\\xE7o\",\n                    value: this.state.tipo,\n                    onChange: this.changeField.bind(this, 'tipo'),\n                    children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                      children: \"Selecione\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 163,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"RESTAURANTE\",\n                      children: \"Restaurante\"\n                    }, \"RESTAURANTE\", false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"CLIENTE\",\n                      children: \"Cliente\"\n                    }, \"CLIENTE\", false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 165,\n                      columnNumber: 41\n                    }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                      value: \"ADMINISTRADOR\",\n                      children: \"Administrador\"\n                    }, \"ADMINISTRADOR\", false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 166,\n                      columnNumber: 41\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 162,\n                    columnNumber: 37\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 160,\n                  columnNumber: 33\n                }, this), /*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"danger\",\n                  type: \"submit\",\n                  children: \"Login\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 170,\n                  columnNumber: 33\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 145,\n                columnNumber: 25\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 25\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 21\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 17\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 17\n      }, this);\n    }\n  }\n\n}","map":{"version":3,"sources":["/l/disk0/raphaelg/Downloads/HACKACLOUD/git/grupo01/fronend/src/pages/login.js"],"names":["Menu","Form","Image","Button","Container","Row","Col","React","Component","Redirect","constants","axios","username","USUARIO_REST_OIC","password","PASSWORD_REST_OIC","basicAuth","btoa","headers","Login","constructor","props","state","login","redirect","tipo","localStorage","setItem","changeField","field","event","_filed","target","value","setState","prevState","nextState","Object","assign","registraLogin","idUser","submitForm","e","preventDefault","alert","JSON","stringify","novoObjetoJSON","post","URI_LOGIN_RESTAURANTE","then","response","console","log","data","window","location","href","catch","error","URI_LOGIN_USUARIO","render","span","offset","bind"],"mappings":"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","sourcesContent":["import Menu from './menu.js';\nimport Form from 'react-bootstrap/Form'\nimport Image from 'react-bootstrap/Image'\nimport Button from 'react-bootstrap/Button'\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport '../css/index.css';\nimport '../css/login.css';\nimport React, {Component} from 'react';\nimport { Redirect } from 'react-router-dom';\nimport * as constants from './constants';\nimport axios from \"axios\";\n\n\nconst username = constants.USUARIO_REST_OIC;\nconst password = constants.PASSWORD_REST_OIC;\nconst basicAuth = btoa(`${username}:${password}`);\n\nconst headers = {\n        \n    'Content-Type': 'application/json',\n    'Access-Control-Allow-Origin': '*',\n    'Authorization': `Basic ${basicAuth}`,\n  };\n\n\nexport default class Login extends Component {\n\n    \n\n    constructor(props){\n        super(props);\n            this.state ={\n                login: '',\n                password: '',\n                redirect: false,\n                tipo: ''\n            }\n\n            localStorage.setItem('isLoggedIn', 'false');\n            localStorage.setItem('logginType', '');\n            localStorage.setItem('idLoggedUser', '');\n            \n        }\n\n        changeField(field,event){\n            let _filed = event.target.value;\n            this.setState(prevState => {\n                let nextState = Object.assign({},prevState);\n                nextState[field] = _filed;\n                return nextState;\n            })\n        }\n\n        registraLogin(idUser, tipo){\n            localStorage.setItem('isLoggedIn', 'true');\n            localStorage.setItem('logginType', tipo);\n            localStorage.setItem('idLoggedUser', idUser);\n        }\n\n        submitForm(e){\n\n            e.preventDefault();\n\n            alert(JSON.stringify(this.state));\n            //alert(this.state.tipo);\n\n            if (this.state.tipo == 'RESTAURANTE'){\n\n                const novoObjetoJSON = {\n                    \"login\": this.state.login,\n                    \"password\": this.state.password\n                  };\n        \n\n                axios.post(constants.URI_LOGIN_RESTAURANTE, novoObjetoJSON, { headers })\n                .then((response) => {\n                    console.log('Resposta da solicitação POST:', response.data);\n                    alert('Login realizado com sucesso!');\n                    this.registraLogin('2',this.state.tipo);\n                    alert(JSON.stringify(response));\n                    window.location.href = \"/home\";\n                })\n                .catch((error) => {\n                    console.error('Erro na solicitação POST:', error);\n                    alert('Falha ao realizar o login!')\n                });      \n\n\n            } else if (this.state.tipo == 'CLIENTE'){\n\n                const novoObjetoJSON = {\n                    \"login\": this.state.login,\n                    \"password\": this.state.password\n                  };\n\n                axios.post(constants.URI_LOGIN_USUARIO, novoObjetoJSON, { headers })\n                .then((response) => {\n                    console.log('Resposta da solicitação POST:', response.data);\n\n                    alert('Login realizado com sucesso!');\n                    this.registraLogin('2',this.state.tipo);\n                    window.location.href = \"/home\";\n                })\n                .catch((error) => {\n                    console.error('Erro na solicitação POST:', error);\n                    alert('Falha ao realizar o login!');\n                });      \n\n\n            } else if (this.state.tipo == 'ADMINISTRADOR'){\n\n                if(this.state.password == '12345'){\n\n                    this.registraLogin('2',this.state.tipo);\n                    \n                    this.setState(prevState => {\n                        let nextState = Object.assign({},prevState);\n                        nextState.redirect = true;\n                        return nextState;\n                    })\n                }else{\n                    alert('Falha ao realizar o login!');\n                }\n\n            }\n\n            \n\n\n\n        }\n    \nrender(){\n    if(this.state.redirect){\n        return <Redirect to=\"/home\"/>\n    } else{\n            return(\n                <div className=\"center\">\n                <Container>\n                    <Row>\n                        <Col md={{ span: 4, offset: 4 }}>\n                        <Image className=\"image-details\" src=\"https://objectstorage.sa-saopaulo-1.oraclecloud.com/p/31IdzhZcCLEo3ydugFKdlSllHz0icpJA2WYaSS4K1RrblJpQv63k9LC2W_AJPh7J/n/gro465m12zbx/b/bucket-20231005-0813/o/testelogo.png\" rounded />\n                        <Form onSubmit={this.submitForm.bind(this)}>\n                                <Form.Group controlId=\"formBasicEmail\">\n                                    <Form.Label className=\"details-form\" >Login</Form.Label>\n                                    <Form.Control type=\"text\" className=\"font-forms\" placeholder=\"Informe o login\" value={this.state.login} onChange={this.changeField.bind(this,'login')}/>\n                                        <Form.Text className=\"text-muted\">\n                                            Informe o login \n                                        </Form.Text>\n                                </Form.Group>\n                                <Form.Group controlId=\"formBasicPassword\">\n                                    <Form.Label className=\"details-form\">Password</Form.Label>\n                                    <Form.Control type=\"password\" className=\"font-forms\" placeholder=\"Password\"  value={this.state.password} onChange={this.changeField.bind(this,'password')}/>\n                                </Form.Group>\n\n                                \n                                \n                                <Form.Group controlId=\"formBasicType\">\n                                <Form.Label className=\"details-form\">Tipo de Login</Form.Label>\n                                    <Form.Control  as=\"select\"  className=\"font-forms select-forms\" placeholder=\"Informe o endereço\" value={this.state.tipo} onChange={this.changeField.bind(this,'tipo')} >\n                                        <option>Selecione</option>\n                                        <option key=\"RESTAURANTE\" value=\"RESTAURANTE\">Restaurante</option>\n                                        <option key=\"CLIENTE\" value=\"CLIENTE\">Cliente</option>\n                                        <option key=\"ADMINISTRADOR\" value=\"ADMINISTRADOR\">Administrador</option>\n                                \n                                    </Form.Control>\n                                </Form.Group>    \n                                <Button variant=\"danger\" type=\"submit\">\n                                    Login\n                                </Button>\n                            </Form>\n                        </Col>\n                    </Row>\n                </Container>\n            </div>\n            )  \n        }\n\n        }\n}\n"]},"metadata":{},"sourceType":"module"}